"use strict";(self.webpackChunknewfold_Onboarding=self.webpackChunknewfold_Onboarding||[]).push([[282],{1526:function(e,t,a){var l=a(9307),n=a(5736);t.Z=e=>{let{title:t,subtitle:a}=e;return(0,l.createElement)("div",{className:"nfd-main-heading"},(0,l.createElement)("h2",{className:"nfd-main-heading__title"},(0,n.__)(t,"wp-module-onboarding")),(0,l.createElement)("h3",{className:"nfd-main-heading__subtitle"},(0,n.__)(a,"wp-module-onboarding")))}},5791:function(e,t,a){a.d(t,{Z:function(){return v}});var l=a(9307),n=(a(5609),a(4184)),r=a.n(n),o=a(5158),i=a(6974),s=a(2200),c=a(6989),u=a.n(c),d=a(4704),m=e=>{let{className:t="nfd-onboarding-layout__base",children:a}=e;const n=(0,i.TH)(),c=document.querySelector(".nfd-onboard-content");return(0,l.useEffect)((()=>{null==c||c.focus({preventScroll:!0}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Showing new Onboarding Page";(0,o.speak)(t,"assertive")}(n,"Override"),new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.eventSlug=e,this.eventData=t}send(){u()({url:(0,d.F)("events"),method:"POST",data:{slug:this.eventSlug,data:this.eventData}}).catch((e=>{console.error(e)}))}}(`${s.Db}-pageview`,{stepID:n.pathname,previousStepID:window.nfdOnboarding.previousStepID}).send(),window.nfdOnboarding.previousStepID=n.pathname}),[n.pathname]),(0,l.createElement)("div",{className:r()("nfd-onboarding-layout",t)},a)};const _=e=>{let{children:t}=e;return(0,l.createElement)("section",{className:"is-contained"},t)};var v=e=>{let{className:t="",children:a,isBgPrimary:n=!1,isCentered:o=!1,isVerticallyCentered:i=!1,isContained:s=!1,isPadded:c=!1,isFadeIn:u=!0}=e;const d=s?_:l.Fragment;return(0,l.createElement)(m,{className:r()("nfd-onboarding-layout__common",t,{"is-layout-fade-in":u},{"is-bg-primary":n},{"is-centered":o},{"is-vertically-centered":i},{"is-padded":c})},(0,l.createElement)(d,null,a))}},676:function(e,t,a){var l=a(9307),n=a(5736),r=a(9818),o=a(5609),i=a(6974),s=a(7533),c=a(9685),u=a(8395),d=a(2200);t.Z=()=>{const e=(0,i.s0)(),t=(0,i.TH)(),{previousStep:a,nextStep:m,currentData:_}=(0,r.useSelect)((e=>({previousStep:e(c.h).getPreviousStep(),nextStep:e(c.h).getNextStep(),currentData:e(c.h).getCurrentOnboardingData()})),[]);async function v(e,t){if(t){if(t.isComplete=(new Date).getTime(),null!=e&&e.includes("basic-info")){const e=await async function(e){var t;const a=await(0,u.Gw)(),l=await(0,u.I2)(null==e||null===(t=e.data)||void 0===t?void 0:t.socialData);return null!=(null==l?void 0:l.error)?(console.error("Unable to Save Social Data!"),null==a?void 0:a.body):null==l?void 0:l.body}(t);e&&null!=t&&t.data&&(t.data.socialData=e)}(0,s.k)(t)}const a="ecommerce"==window.nfdOnboarding.currentFlow?d.Nj:d.hF;window.location.replace(a)}return null===m||!1===m?(0,l.createElement)(o.Button,{className:"skip-button",onClick:e=>v(t.pathname,_)},(0,n.__)("Skip this Step","wp-module-onboarding")):(0,l.createElement)(o.Button,{className:"skip-button",onClick:t=>e(m.path)},(0,n.__)("Skip this Step","wp-module-onboarding"))}},1282:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(9307),n=a(5791),r=a(1526),o=a(5736),i=a(6974),s=a(9818),c=JSON.parse('{"y7":{"TN":"%s Title","W$":"WordPress %s","$f":"Shown to visitors, search engine and social media posts.","MT":"80"},"Je":{"TN":"%s Description","W$":"Just another WordPress %s.","$f":"Tell people who you are, what you sell and why they should visit your %s.","MT":"160"},"vU":{"T":"Error Saving Data, Try Again!"}}'),u=e=>{let{title:t,hint:a,placeholder:n,height:r,maxCharacters:i,textValue:s,textValueSetter:c}=e;const u=(0,l.useRef)(null),[d,m]=(0,l.useState)("nfd-input__field");return(0,l.useEffect)((()=>{u.current.style.height=r;const e=u.current.scrollHeight;u.current.style.height=e+"px"}),[s]),(0,l.createElement)("div",{className:"nfd-input"},(0,l.createElement)("label",null,(0,l.createElement)("div",{className:"nfd-input__label"},(0,l.createElement)("p",{className:"nfd-input__label_title"},(0,o.__)(t,"wp-module-onboarding")),(0,l.createElement)("p",{className:"nfd-input__label_maxChar"},`(${i-(null==s?void 0:s.length)} characters left)`)),(0,l.createElement)("textarea",{type:"text",className:d,ref:u,style:{height:r},placeholder:n,value:s,maxLength:i,onChange:e=>(e=>{e.preventDefault(),c(e.target.value),e.target.value.length==i?m("nfd-input__field nfd-input__field_error"):m("nfd-input__field")})(e)}),(0,l.createElement)("p",{className:"nfd-input__hint"},(0,o.__)(a,"wp-module-onboarding"))))},d=a(676),m=JSON.parse('{"qv":"--default-logo-icon","TN":"WordPress %s","C8":"Just another WordPress %s","HQ":"https://bluehost.com"}'),_=a(1392),v=e=>{let{title:t,desc:a,icon:n,socialData:r}=e;var i=""==n||null==n?m.qv:n,s=""==t?(0,o.sprintf)((0,o.__)(m.TN,"wp-module-onboarding"),(0,_.I)("Site")):t,c=""==a?(0,o.sprintf)((0,o.__)(m.C8,"wp-module-onboarding"),(0,_.I)("Site")):a,u=""==t?m.HQ:function(e){return`https://${null==e?void 0:e.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}.com`}(t);const[d,v]=(0,l.useState)(""),[p,b]=(0,l.useState)(""),[g,w]=(0,l.useState)(""),[f,h]=(0,l.useState)(""),[E,N]=(0,l.useState)(""),[S,y]=(0,l.useState)(""),[k,T]=(0,l.useState)("");(0,l.useEffect)((()=>{var e,t,a,l,n;if(v(null!==(e=null==r?void 0:r.facebook_site)&&void 0!==e?e:""),b(null!==(t=null==r?void 0:r.twitter_site)&&void 0!==t?t:""),w(null!==(a=null==r?void 0:r.instagram_url)&&void 0!==a?a:""),h(null!==(l=null==r?void 0:r.youtube_url)&&void 0!==l?l:""),N(null!==(n=null==r?void 0:r.linkedin_url)&&void 0!==n?n:""),Object.keys(r).includes("other_social_urls")){var o,i;const e=r.other_social_urls;Object.keys(e).includes("yelp_url")&&y(null!==(o=e.yelp_url)&&void 0!==o?o:""),Object.keys(e).includes("tiktok_url")&&T(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[r]);const D=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol};var I,O=[{url:d,image:"var(--facebook-colored-icon)"},{url:p,image:"var(--twitter-colored-icon)"},{url:g,image:"var(--instagram-colored-icon)"},{url:f,image:"var(--youtube-colored-icon)"},{url:E,image:"var(--linkedin-colored-icon)"},{url:S,image:"var(--yelp-colored-icon)"},{url:k,image:"var(--tiktok-colored-icon)"}];return(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"mini-preview"},"Preview"),(0,l.createElement)("div",{className:"browser-container"},(0,l.createElement)("div",{className:"browser-row-title"},(0,l.createElement)("div",{className:"browser-row-title_main"},(0,l.createElement)("div",{className:"browser-row-title_buttons"},(0,l.createElement)("span",{className:"browser-dot",style:{background:"#ED594A"}}),(0,l.createElement)("span",{className:"browser-dot",style:{background:"#FDD800"}}),(0,l.createElement)("span",{className:"browser-dot",style:{background:"#5AC05A"}}))),(0,l.createElement)("div",{className:"browser-row-title_bar"},(0,l.createElement)("div",{className:"browser-row-title_bar_before"},(0,l.createElement)("div",{className:"browser-row-title_bar_before-curve"})),(0,l.createElement)("div",{className:"browser-row-title_bar_main"},(0==n||null==n)&&(0,l.createElement)("div",{className:"browser-icon-title",style:{content:"var(--default-logo-icon)"}}),0!=n&&null!=n&&(0,l.createElement)("img",{className:"browser-icon-title",src:i.url,alt:"Thumb"}),(0,l.createElement)("div",{className:"browser-row-title_bar_main-text"},(0,o.__)(null==s?void 0:s.substring(0,20),"wp-module-onboarding")),(0,l.createElement)("div",{className:"browser-row-title_bar_main-cross"},"x")),(0,l.createElement)("div",{className:"browser-row-title_bar_after"},(0,l.createElement)("div",{className:"browser-row-title_bar_after-curve"})))),(0,l.createElement)("div",{className:"browser-row-search"},(0,l.createElement)("div",{className:"browser-row-search__icons"},(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--back-icon)"}}),(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--forward-icon)"}}),(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--reload-icon)"}})),(0,l.createElement)("div",{className:"browser-row-search__search-box"},(0,l.createElement)("input",{className:"browser-row-search__search-box_input",type:"text",onChange:e=>{},value:(0,o.__)(u,"wp-module-onboarding")})),(0,l.createElement)("div",{className:"browser-row-search__more"},(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--more-icon)"}}))),(0,l.createElement)("div",{className:"browser-content"},(0,l.createElement)("div",{className:"browser-content_top-row"},(0,l.createElement)("h4",{className:"browser-content_top-row-name"},(0,o.__)(s,"wp-module-onboarding")),(0,l.createElement)("a",{className:"browser-content_top-row-link"},(0,o.__)(u,"wp-module-onboarding"))),(0,l.createElement)("h5",{className:"browser-content_desc"},(0,o.__)(c,"wp-module-onboarding")),(0,l.createElement)("div",{className:"browser-content_social"},(I=[],O.map((e=>{!e.url||I.push((0,l.createElement)("div",{key:e.image,className:`browser-content_social_icon ${D(e.url)||"invalid-url"}`,style:{backgroundImage:e.image}}))})),I)))))},p=a(8395),b=a(9685),g=()=>(0,l.createElement)("div",{className:"loading-box"},(0,l.createElement)("div",{className:"loading-box__loader"})),w=a(6329),f=a(2200),h=a(6989),E=a.n(h);var N=e=>{let{icon:t,iconSetter:a}=e;const n=(0,l.useRef)(null),[r,i]=(0,l.useState)(!1);return(0,l.createElement)("div",{className:"image-uploader"},(0,l.createElement)("h4",{className:"image-uploader_heading"},"Logo"),r?(0,l.createElement)("div",{className:"image-uploader_window"},(0,l.createElement)(g,null)):(0,l.createElement)("div",{className:"image-uploader_window"},(0,l.createElement)("div",{className:"image-uploader_window-empty"}),(0,l.createElement)("div",{className:"image-uploader_window-logo"},(0==t||null==t)&&(0,l.createElement)("div",{className:"image-uploader_window-logo-icon-empty"}),0!=t&&null!=t&&(0,l.createElement)("img",{className:"image-uploader_window-logo-icon-selected",src:t.url,alt:"Thumb"})),(0,l.createElement)("div",{className:"image-uploader_window-reset"},0!=t&&null!=t&&(0,l.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{var e;a(0),(null==n||null===(e=n.current)||void 0===e?void 0:e.files.length)>0&&(n.current.value="")}},(0,o.__)("RESET","wp-module-onboarding")),(0==t||null==t)&&(0,l.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{null==n||n.current.click()}},(0,o.__)("UPLOAD","wp-module-onboarding")),(0,l.createElement)("input",{className:"image-uploader_window-select-btn",accept:"image/*",type:"file",ref:n,onChange:e=>{var t,l,n;null!=e&&null!==(t=e.target)&&void 0!==t&&t.files&&(null==e||null===(l=e.target)||void 0===l?void 0:l.files.length)>0&&async function(e){if(e){i(!0);const n=await async function(e){const t=await function(e){return new Promise(((t,a)=>{const l=new FileReader;l.addEventListener("loadend",(e=>t(e.target.result))),l.addEventListener("error",a),l.readAsArrayBuffer(e)}))}(e),a={"Content-Type":"image/png"};return a["Content-Disposition"]="attachment; filename="+e.name,await(0,w.D)(E()({url:`${f.km}/wp/v2/media`,method:"POST",headers:a,body:t}))}(e);if(n){var t,l;const e=null==n||null===(t=n.body)||void 0===t?void 0:t.id,r=null==n||null===(l=n.body)||void 0===l?void 0:l.source_url;a({id:e,url:r})}else console.error("Image Upload Failed")}else console.error("No File Attached");i(!1)}(null==e||null===(n=e.target)||void 0===n?void 0:n.files[0])}}))))},S=a(2819),y=a.n(S),k=a(9196),T=e=>{let t;const[a,n]=(0,k.useState)(!0);return"hide"==e.content?(0,l.createElement)("div",null,e.children):(0,l.createElement)("div",{className:"Tooltip-Wrapper",onMouseEnter:()=>{t=setTimeout((()=>{n(!0)}),e.delay||400)},onMouseLeave:()=>{clearInterval(t),n(!1)}},e.children,a&&(0,l.createElement)("div",{className:`Tooltip-Tip ${e.direction||"top"}`},e.content))},D=e=>{let{socialData:t,setSocialData:a,setIsValidSocials:n}=e;const[r,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[m,_]=(0,l.useState)(""),[v,p]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[w,f]=(0,l.useState)(""),[h,E]=(0,l.useState)(""),[N,S]=(0,l.useState)([]),k={FACEBOOK:"facebook",TWITTER:"twitter",INSTAGRAM:"instagram",YOUTUBE:"youtube",LINKEDIN:"linkedin",YELP:"yelp",TIKTOK:"tiktok"},D={FACEBOOK:s,TWITTER:u,INSTAGRAM:m,YOUTUBE:v,LINKEDIN:b,YELP:w,TIKTOK:h};var I={facebook_site:s,twitter_site:u,instagram_url:m,youtube_url:v,linkedin_url:b,other_social_urls:{yelp_url:w,tiktok_url:h}};(0,l.useEffect)((()=>{var e,a,l,n,r;if(c(null!==(e=null==t?void 0:t.facebook_site)&&void 0!==e?e:""),d(null!==(a=null==t?void 0:t.twitter_site)&&void 0!==a?a:""),_(null!==(l=null==t?void 0:t.instagram_url)&&void 0!==l?l:""),p(null!==(n=null==t?void 0:t.youtube_url)&&void 0!==n?n:""),g(null!==(r=null==t?void 0:t.linkedin_url)&&void 0!==r?r:""),Object.keys(t).includes("other_social_urls")){var o,i;const e=t.other_social_urls;Object.keys(e).includes("yelp_url")&&f(null!==(o=e.yelp_url)&&void 0!==o?o:""),Object.keys(e).includes("tiktok_url")&&E(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[t]);const O=y().debounce((function(e,t){if((e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(t)){var a=N.filter((function(t){return t!==e}));S(a)}else N.includes(e)||S([...N,e]);t||(a=N.filter((function(t){return t!==e})),S(a)),0==N.length?n(!0):n(!1)}),1e3),C=e=>{const t=e.target.value;switch(e.target.id){case k.FACEBOOK:O(k.FACEBOOK,t),c(t),I.facebook_site=t;break;case k.TWITTER:O(k.TWITTER,t),d(t),I.twitter_site=t;break;case k.INSTAGRAM:O(k.INSTAGRAM,t),_(t),I.instagram_url=t;break;case k.YOUTUBE:O(k.YOUTUBE,t),p(t),I.youtube_url=t;break;case k.LINKEDIN:O(k.LINKEDIN,t),g(t),I.linkedin_url=t;break;case k.YELP:O(k.YELP,t),f(t),I.other_social_urls.yelp_url=t;break;case k.TIKTOK:O(k.TIKTOK,t),E(t),I.other_social_urls.tiktok_url=t}a(I)};return(0,l.createElement)("div",{className:"social-form"},(0,l.createElement)("div",{className:"social-form__top-row",onClick:e=>{i(!r)}},(0,l.createElement)("div",{className:"social-form__top-row_heading"},(0,o.__)("Social Media","wp-module-onboarding")),(0,l.createElement)("div",{className:"social-form__top-row_icon "+(r?"social-form__top-row_icon_opened":"")})),(0,l.createElement)("form",{className:r?"social-form__main-active":"social-form__main-hidden",onSubmit:e=>{handleSubmit(e)}},function(){var e=[];for(var t in k)e.push((0,l.createElement)("div",{key:k[t]},(0,l.createElement)("label",{className:`social-form__label social-form__label-${k[t]}`},(0,l.createElement)("div",{className:"social-form__label_icon",style:{backgroundImage:`var(--${k[t]}-icon)`}}),(0,l.createElement)("div",{className:"social-form__label_name"},(0,o.__)(k[t].replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),"wp-module-onboarding"))),(0,l.createElement)(T,{content:N.includes(k[t])?`Please enter a valid ${k[t]} URL`:"hide",direction:"top"},(0,l.createElement)("input",{className:N.includes(k[t])?"social-form__box-error":"social-form__box",type:"url",id:`${k[t]}`,value:D[t],onChange:e=>{C(e)}}))));return e}()))},I=()=>{(0,i.s0)();const[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(),[r,m]=(0,l.useState)(!1),[g,w]=(0,l.useState)(),[f,h]=(0,l.useState)(""),[E,S]=(0,l.useState)(""),[y,k]=(0,l.useState)(0),[T,I]=(0,l.useState)(""),[O,C]=(0,l.useState)(!1),{setCurrentOnboardingData:x}=(0,s.useDispatch)(b.h),{currentData:L}=(0,s.useSelect)((e=>({currentData:e(b.h).getCurrentOnboardingData()})),[]);return(0,l.useEffect)((()=>{r||async function(){const e=await(0,p.Gw)();I(e.body),n(L),w(a),m(!0)}(),r&&(k(null==a?void 0:a.data.siteLogo),h(null==a?void 0:a.data.blogName),S(null==a?void 0:a.data.blogDescription))}),[r]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{r&&w({data:{siteLogo:y,blogName:f,blogDescription:E,socialData:T}})}),600);return()=>{clearTimeout(e)}}),[f,E,y,T,O]),(0,l.useEffect)((()=>{g&&(async()=>{var e,t,a,l,n=L;n.data.siteLogo=null!==(e=g.data.siteLogo)&&void 0!==e?e:n.data.siteLogo,n.data.blogName=null!==(t=g.data.blogName)&&void 0!==t?t:n.data.blogName,n.data.blogDescription=null!==(a=g.data.blogDescription)&&void 0!==a?a:n.data.blogDescription,n.data.socialData=null!==(l=g.data.socialData)&&void 0!==l?l:n.data.socialData,x(n)})()}),[g]),(0,l.createElement)("div",{className:"basic-info"},(0,l.createElement)("div",{className:e?"error__show":"error__hide"},(0,o.__)(c.vU.T,"wp-module-onboarding")),(0,l.createElement)("div",{className:"basic-info-form"},(0,l.createElement)("div",{className:"basic-info-form__left"},(0,l.createElement)(u,{title:(0,o.sprintf)((0,o.__)(c.y7.TN,"wp-module-onboarding"),(0,_.I)("Site")),hint:(0,o.__)(c.y7.$f,"wp-module-onboarding"),placeholder:(0,o.sprintf)((0,o.__)(c.y7.W$,"wp-module-onboarding"),(0,_.I)("Site")),maxCharacters:(0,o.__)(c.y7.MT,"wp-module-onboarding"),height:"47px",textValue:f,textValueSetter:h}),(0,l.createElement)(u,{title:(0,o.sprintf)((0,o.__)(c.Je.TN,"wp-module-onboarding"),(0,_.I)("Site")),hint:(0,o.sprintf)((0,o.__)(c.Je.$f,"wp-module-onboarding"),(0,_.I)("site")),placeholder:(0,o.sprintf)((0,o.__)(c.Je.W$,"wp-module-onboarding"),(0,_.I)("Site")),maxCharacters:(0,o.__)(c.Je.MT,"wp-module-onboarding"),height:"100px",textValue:E,textValueSetter:S}),(0,l.createElement)("div",null,(0,l.createElement)(D,{socialData:T,setSocialData:I,setIsValidSocials:C}))),(0,l.createElement)("div",{className:"basic-info-form__right"},(0,l.createElement)(N,{icon:y,iconSetter:k}),(0,l.createElement)(v,{icon:y,title:f,desc:E,socialData:T}))),(0,l.createElement)(d.Z,null))},O=a(4333),C=()=>{const e=(0,O.useViewportMatch)("medium"),{setIsDrawerOpened:t,setDrawerActiveView:a,setIsSidebarOpened:o,setIsDrawerSuppressed:i}=(0,s.useDispatch)(b.h),{currentStep:c}=(0,s.useSelect)((e=>({currentStep:e(b.h).getCurrentStep()})),[]);return(0,l.useEffect)((()=>{e&&t(!0),o(!1),i(!1),a(f.tM)}),[]),(0,l.createElement)(n.Z,{isVerticallyCentered:!0},(0,l.createElement)(r.Z,{title:null==c?void 0:c.heading,subtitle:null==c?void 0:c.subheading}),(0,l.createElement)(I,null))}}}]);