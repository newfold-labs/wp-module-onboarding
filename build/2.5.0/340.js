"use strict";(self.webpackChunknewfold_Onboarding=self.webpackChunknewfold_Onboarding||[]).push([[340],{2607:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(1609),o=a(7723),l=a(8468),i=a(6427),n=a(7143),s=a(148),c=a(4371),d=a(6079),u=a(7675),m=a(2014),p=a(8969),w=a(2202),_=a(6942),g=a.n(_);const b=(0,l.memo)((({callback:e=!1,className:t,text:a})=>{const l=(0,s.Zp)(),_=(0,s.zy)(),{nextStep:b,currentData:h,socialData:v}=(0,n.useSelect)((e=>({nextStep:e(u.M).getNextStep(),currentData:e(u.M).getCurrentOnboardingData(),socialData:e(u.M).getOnboardingSocialData()})),[]),f=null===b||!1===b,{setOnboardingSocialData:E}=(0,n.useDispatch)(u.M);return(0,r.createElement)(i.Button,{className:g()("skip-button",t),onClick:f?()=>async function(e){if(h){if(h.isComplete=(new Date).getTime(),e?.includes("basic-info")){const e=await async function(){const e=await(0,m.mt)(),t=await(0,m.oc)(v);return null!==t?.error?e?.body:t?.body}();e&&E(e),await c.y.dispatchEvents(w.XJ)}(0,d.V1)(h)}window.location.replace(p.R0)}(_.pathname):()=>("function"==typeof e&&e(),void l(b.path))},a||(0,o.__)("Skip this Step","wp-module-onboarding"))}))},1340:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(1609),o=a(3988),l=a(4639),i=a(7143),n=a(3582),s=a(8468),c=a(7723),d=a(3474);const u=()=>({heading:(0,c.sprintf)(/* translators: %s: website or store */ /* translators: %s: website or store */
(0,c.__)("Introduce us to this %s","wp-module-onboarding"),(0,d.P)("website")),subheading:(0,c.__)("So we can introduce it to the web","wp-module-onboarding"),siteTitle:{title:(0,c.sprintf)(/* translators: %s: Site */ /* translators: %s: Site */
(0,c.__)("%s Title","wp-module-onboarding"),(0,d.P)("Site")),placeholder:(0,c.sprintf)(/* translators: %s: Site or Store */ /* translators: %s: Site or Store */
(0,c.__)("WordPress %s","wp-module-onboarding"),(0,d.P)("Site")),hint:(0,c.__)("Shown to visitors, search engine and social media posts.","wp-module-onboarding"),maxCharacters:(0,c.__)("80","wp-module-onboarding")},siteDesc:{title:(0,c.sprintf)(/* translators: %s: Site or Store */ /* translators: %s: Site or Store */
(0,c.__)("%s Description","wp-module-onboarding"),(0,d.P)("Site")),placeholder:(0,c.sprintf)(/* translators: %s: Site or Store */ /* translators: %s: Site or Store */
(0,c.__)("Just another WordPress %s.","wp-module-onboarding"),(0,d.P)("Site")),hint:(0,c.sprintf)(/* translators: %s: site or store */ /* translators: %s: site or store */
(0,c.__)("Tell people who you are, what you sell and why they should visit your %s.","wp-module-onboarding"),(0,d.P)("site")),maxCharacters:(0,c.__)("160","wp-module-onboarding")},error:{title:(0,c.__)("Error Saving Data, Try Again!","wp-module-onboarding")}}),m=(0,s.memo)((({title:e,hint:t,placeholder:a,height:o,maxCharacters:l,textValue:i,textValueSetter:n})=>{const d=(0,s.useRef)(null),[u,m]=(0,s.useState)("nfd-input__field");return(0,s.useEffect)((()=>{d.current.style.height=o;const e=d.current.scrollHeight;d.current.style.height=e+"px"}),[i]),(0,r.createElement)("div",{className:"nfd-input"},(0,r.createElement)("label",{htmlFor:u},(0,r.createElement)("div",{className:"nfd-input__label"},(0,r.createElement)("p",{className:"nfd-input__label_title"},e),(0,r.createElement)("p",{className:"nfd-input__label_maxChar"},(p=l-i?.length,{charactersLeftPrompt:{text:(0,c.sprintf)(/* translators: %d: Character count */ /* translators: %d: Character count */
(0,c.__)("(%d characters left)","wp-module-onboarding"),p)}}).charactersLeftPrompt.text)),(0,r.createElement)("textarea",{type:"text",className:u,ref:d,style:{height:o},placeholder:a,value:i,maxLength:l,onChange:e=>(e=>{e.preventDefault(),n(e.target.value),e.target.value.length===l?m("nfd-input__field nfd-input__field_error"):m("nfd-input__field")})(e)}),(0,r.createElement)("p",{className:"nfd-input__hint"},t)));var p}));var p=a(2607),w=a(7675),_=a(8969);const g=(0,s.memo)((({title:e,desc:t,icon:a,isSocialFormOpen:o,setIsSocialFormOpen:l})=>{const{socialDataStore:n}=(0,i.useSelect)((e=>({socialDataStore:e(w.M).getOnboardingSocialData()})),[]),u={heading:(0,c.__)("Preview","wp-module-onboarding"),defaultTitle:(0,c.sprintf)(/* translators: %s: Site or Store */ /* translators: %s: Site or Store */
(0,c.__)("WordPress %s","wp-module-onboarding"),(0,d.P)("Site")),defaultDesc:(0,c.sprintf)(/* translators: %s: Site */ /* translators: %s: Site */
(0,c.__)("Just another WordPress %s","wp-module-onboarding"),(0,d.P)("Site"))},m=""===e?u.defaultTitle:e,p=""===t?u.defaultDesc:t,[g,b]=(0,s.useState)(""),[h,v]=(0,s.useState)(""),[f,E]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[k,S]=(0,s.useState)(""),[D,T]=(0,s.useState)(""),[x,L]=(0,s.useState)("");(0,s.useEffect)((()=>{var e,t,a,r,o;if(b(null!==(e=n?.facebook_site)&&void 0!==e?e:""),v(null!==(t=n?.twitter_site)&&void 0!==t?t:""),E(null!==(a=n?.instagram_url)&&void 0!==a?a:""),N(null!==(r=n?.youtube_url)&&void 0!==r?r:""),S(null!==(o=n?.linkedin_url)&&void 0!==o?o:""),n&&Object.keys(n).includes("other_social_urls")){const e=n.other_social_urls;var l,i;Object.keys(e).includes("yelp_url")&&T(null!==(l=e.yelp_url)&&void 0!==l?l:""),Object.keys(e).includes("tiktok_url")&&L(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[n]);const O=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},R=[{url:g,image:"var(--facebook-icon)"},{url:h,image:"var(--twitter-icon)"},{url:f,image:"var(--instagram-icon)"},{url:y,image:"var(--youtube-icon)"},{url:k,image:"var(--linkedin-icon)"},{url:D,image:"var(--yelp-icon)"},{url:x,image:"var(--tiktok-icon)"}];return(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"mini-preview"},u.heading),(0,r.createElement)("div",{className:"browser-container"},(0,r.createElement)("div",{className:"browser-row-title"},(0,r.createElement)("div",{className:"browser-row-title_main"},(0,r.createElement)("div",{className:"browser-row-title_buttons"},(0,r.createElement)("span",{className:"browser-dot",style:{background:"#ED594A"}}),(0,r.createElement)("span",{className:"browser-dot",style:{background:"#FDD800"}}),(0,r.createElement)("span",{className:"browser-dot",style:{background:"#5AC05A"}}))),(0,r.createElement)("div",{className:"browser-row-title_bar"},(0,r.createElement)("div",{className:"browser-row-title_bar_before"},(0,r.createElement)("div",{className:"browser-row-title_bar_before-curve"})),(0,r.createElement)("div",{className:"browser-row-title_bar_main"},(void 0===a||0===a?.id)&&(0,r.createElement)("div",{className:"browser-icon-title",style:{content:"var(--default-logo-icon)"}}),void 0!==a&&0!==a?.id&&(0,r.createElement)("img",{className:"browser-icon-title",src:a?.url,alt:"Thumb"}),(0,r.createElement)("div",{className:"browser-row-title_bar_main-text"},m?.substring(0,20)),(0,r.createElement)("div",{className:"browser-row-title_bar_main-cross"},"x")),(0,r.createElement)("div",{className:"browser-row-title_bar_after"},(0,r.createElement)("div",{className:"browser-row-title_bar_after-curve"})))),(0,r.createElement)("div",{className:"browser-row-search"},(0,r.createElement)("div",{className:"browser-row-search__icons"},(0,r.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--back-icon)"}}),(0,r.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--forward-icon)"}}),(0,r.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--reload-icon)"}})),(0,r.createElement)("div",{className:"browser-row-search__search-box"},(0,r.createElement)("input",{className:"browser-row-search__search-box_input",type:"text",onChange:()=>{},value:_.SF})),(0,r.createElement)("div",{className:"browser-row-search__more"},(0,r.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--more-icon)"}}))),(0,r.createElement)("div",{className:"browser-content"},(0,r.createElement)("div",{className:"browser-content_top-row"},(0,r.createElement)("h4",{className:"browser-content_top-row-name"},m),(0,r.createElement)("span",{className:"browser-content_top-row-link"},_.SF)),(0,r.createElement)("h5",{className:"browser-content_desc"},p),(0,r.createElement)("div",{className:"browser-content_social"},R.map(((e,t)=>(0,r.createElement)("div",{key:e.image,tabIndex:t+1,role:"button",onClick:()=>l(!o),onKeyDown:()=>l(!o),className:`browser-content_social_icon ${e.url?O(e.url)||"--invalid-url":"--no-url"}`,style:{backgroundImage:e.image}})))))))}));var b=a(431),h=a(2014),v=a(518),f=a(9645);const E=(0,s.memo)((({icon:e,iconSetter:t})=>{const a=(0,s.useRef)(null),[o,l]=(0,s.useState)(!1),[i,n]=(0,s.useState)(!1);async function d(e){if(e){l(!0);const a=await(0,f.V)(e);if(a){const e=a?.body?.id,r=a?.body?.source_url;t({id:e,url:r})}}l(!1)}return(0,r.createElement)("div",{className:"image-uploader"},(0,r.createElement)("h4",{className:"image-uploader_heading"},(0,c.__)("Logo","wp-module-onboarding")),o?(0,r.createElement)("div",{className:"image-uploader_window"},(0,r.createElement)(v.c,null)):(0,r.createElement)("div",{className:`image-uploader_window ${i&&"image-uploader_window--on-drag"}`,onDrop:e=>(e=>{e.preventDefault(),e.stopPropagation(),n(!1),e?.dataTransfer?.files&&e?.dataTransfer?.files.length>0&&"image"===e?.dataTransfer?.files[0]?.type.split("/")[0]&&d(e?.dataTransfer?.files[0])})(e),onDragOver:e=>(e=>{e.preventDefault(),e.stopPropagation(),n(!0)})(e),onDragEnter:e=>(e=>{e.preventDefault(),e.stopPropagation(),n(!0)})(e),onDragLeave:e=>(e=>{e.preventDefault(),e.stopPropagation(),n(!1)})(e)},(0,r.createElement)("div",{className:"image-uploader_window-empty"}),(0,r.createElement)("div",{className:"image-uploader_window-logo"},(void 0===e||0===e?.id)&&(0,r.createElement)("div",{className:"image-uploader_window-logo-icon-empty"}),0!==e?.id&&void 0!==e?.id&&(0,r.createElement)("img",{className:"image-uploader_window-logo-icon-selected",src:e?.url,alt:"Thumb"})),(0,r.createElement)("div",{className:"image-uploader_window-reset"},void 0!==e&&0!==e?.id&&(0,r.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{t({id:0,url:""}),a?.current?.files.length>0&&(a.current.value="")}},(0,c.__)("RESET","wp-module-onboarding")),(void 0===e||0===e?.id)&&(0,r.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{a?.current.click()}},(0,c.__)("UPLOAD","wp-module-onboarding")),(0,r.createElement)("input",{className:"image-uploader_window-select-btn",accept:"image/*",type:"file",ref:a,onChange:e=>{e?.target?.files&&e?.target?.files.length>0&&d(e?.target?.files[0])}}))))})),y=e=>{let t;const[a,o]=(0,r.useState)(!0);return"hide"==e.content?(0,r.createElement)("div",null,e.children):(0,r.createElement)("div",{className:"Tooltip-Wrapper",onMouseEnter:()=>{t=setTimeout((()=>{o(!0)}),e.delay||400)},onMouseLeave:()=>{clearInterval(t),o(!1)}},e.children,a&&(0,r.createElement)("div",{className:`Tooltip-Tip ${e.direction||"top"}`},e.content))};var N=a(2538);const k=new Set(["twitter","instagram","youtube"]),S=(e,t)=>{const a=new RegExp(/goo\.gl.*|bit\.ly.*|buff\.ly.*|tinyurl\.com.*|bl\.ink.*|short\.io.*|ow\.ly.*|is\.gd.*|adf\.ly.*|bit\.do.*|t\.co.*|clk\.sh.*|gplinks\.in.*|tiny\.cc.*|wp\.me.*/gi),r=new RegExp(/.*www\./gi),o=new RegExp(/https?:\/\//gi),l=new RegExp(/((https?:\/\/(?:www\.|(?!www)))?[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);if(e.match(a)){const a=e.match(r),l=e.match(o);return a||l||(e="https://www."+e),t.error=N.L.AD_LINK_ERROR,t.url=e,t}const i=e.match(l);if(!i)return t.error=N.L.INVALID_LINK_ERROR,t.url=e,t;let n=i[0];const s=i[0].match(r),c=i[0].match(o);return n.match(new RegExp(/http:/gi))&&(n=n.replace(/http:/gi,"https:")),s||c?!s&&c?n=n.replace(/https?:\/\//gi,"https://www."):s&&!c&&(n="https://"+n):n="https://www."+n,t.url=n,t.error=N.L.NONE,t},D=e=>!!e.match("^@?[A-Za-z0-9_]{1,25}$");var T=a(148),x=a(6427);const L=({showModal:e,setShowModal:t,modalTitle:a,modalText:o})=>{const l=(0,T.Zp)(),{navErrorModalPath:n}=(0,i.useSelect)((e=>({navErrorModalPath:e(w.M).getNavErrorPath()})),[]),{showNavErrorDialog:d,resetNavError:u}=(0,i.useDispatch)(w.M),m=()=>{u(),d(!0),t(!1)};return(0,r.createElement)(s.Fragment,null,e&&(0,r.createElement)(x.Modal,{title:a,onRequestClose:()=>m()},(0,r.createElement)("p",null,o),(0,r.createElement)(x.ButtonGroup,{className:"nfd-onboarding-etw__buttons"},(0,r.createElement)(x.Button,{variant:"secondary",onClick:()=>m()},(0,c.__)("Edit URLs","wp-module-onboarding")),(0,r.createElement)(x.Button,{variant:"primary",onClick:()=>{u(),l(n)}},(0,c.__)("Proceed Anyways","wp-module-onboarding")))))},O=({socialData:e,setSocialData:t,isSocialFormOpen:a,setIsSocialFormOpen:o})=>{const l={heading:(0,c.__)("Social Media","wp-module-onboarding"),modals:{shortUrl:{modalTitle:(0,c.__)("It looks like you're using a URL shortener!","wp-module-onboarding"),modalText:(0,c.__)("That's smart, but we encourage you to enter the standard URL for your social profiles to help search engines know this website is associated with your profile using Yoast's Open Graph support. You can always change the URLs used within your site to trackable in the future.","wp-module-onboarding")},invalidUrl:{modalTitle:(0,c.__)("One of those URLs doesn't look like a social media URL.","wp-module-onboarding"),modalText:(0,c.__)("We recommend using your official social URL to help search engines know this website is associated with your profile using Yoast's Open Graph support. You can always change the URLs used within your site in the future.","wp-module-onboarding")}},errorText:{adLinkErrorText:(0,c.__)("That's clever! Short URLs are a great way to track clicks. However, To help build your social graph, we need the full URLs to your social profiles. You can go into your menus and change your social icon links after setup.","wp-module-onboarding"),invalidLinkErrorText:(0,c.__)("To help build your social graph, we need the full URLs to your social profiles. Please check your URLs for typos and try copy & paste with the official URL if you continue to see this error.","wp-module-onboarding")}},[n,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[p,_]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[h,v]=(0,s.useState)(""),[f,E]=(0,s.useState)(""),[T,x]=(0,s.useState)(""),[O,R]=(0,s.useState)(!1),[I,A]=(0,s.useState)([]),[C,P]=(0,s.useState)(Object),{showNavErrorDialog:M,setOnboardingSocialData:U,resetNavError:F}=(0,i.useDispatch)(w.M),{navErrorModalPath:V}=(0,i.useSelect)((e=>({navErrorModalPath:e(w.M).getNavErrorPath()})),[]),K={FACEBOOK:{id:"facebook",value:n,name:(0,c.__)("Facebook","wp-module-onboarding")},TWITTER:{id:"twitter",value:u,name:(0,c.__)("Twitter","wp-module-onboarding")},INSTAGRAM:{id:"instagram",value:p,name:(0,c.__)("Instagram","wp-module-onboarding")},YOUTUBE:{id:"youtube",value:g,name:(0,c.__)("Youtube","wp-module-onboarding")},LINKEDIN:{id:"linkedin",value:h,name:(0,c.__)("Linkedin","wp-module-onboarding")},YELP:{id:"yelp",value:f,name:(0,c.__)("Yelp","wp-module-onboarding")},TIKTOK:{id:"tiktok",value:T,name:(0,c.__)("Tiktok","wp-module-onboarding")}};(0,s.useEffect)((()=>{""!==V&&R(!0)}),[V]),(0,s.useEffect)((()=>{var t,a,r,o,l;if(d(null!==(t=e?.facebook_site)&&void 0!==t?t:""),m(null!==(a=e?.twitter_site)&&void 0!==a?a:""),_(null!==(r=e?.instagram_url)&&void 0!==r?r:""),b(null!==(o=e?.youtube_url)&&void 0!==o?o:""),v(null!==(l=e?.linkedin_url)&&void 0!==l?l:""),e&&Object.keys(e).includes("other_social_urls")){const t=e.other_social_urls;var i,n;Object.keys(t).includes("yelp_url")&&E(null!==(i=t.yelp_url)&&void 0!==i?i:""),Object.keys(t).includes("tiktok_url")&&x(null!==(n=t.tiktok_url)&&void 0!==n?n:"")}}),[e]);const z=(a,r)=>{switch(r){case K.FACEBOOK.id:d(a),e.facebook_site=a;break;case K.TWITTER.id:m(a),e.twitter_site=a;break;case K.INSTAGRAM.id:_(a),e.instagram_url=a;break;case K.YOUTUBE.id:b(a),e.youtube_url=a;break;case K.LINKEDIN.id:v(a),e.linkedin_url=a;break;case K.YELP.id:E(a),e.other_social_urls={...e.other_social_urls},e.other_social_urls.yelp_url=a;break;case K.TIKTOK.id:x(a),e.other_social_urls={...e.other_social_urls},e.other_social_urls.tiktok_url=a}U(e),t(e)},Y=()=>{let e=N.L.NONE;for(const t in C)C[t]!==N.L.NONE&&(e=C[t]);return e},Z=e=>{const t=e.target.value,a=e.target.id,r=((e,t)=>{const a={url:t,error:N.L.NONE};if(""===t)return a;if(!k.has(e))return S(t,a);switch(e){case"twitter":return((e,t)=>D(e)?("@"===e.charAt(0)&&(e=e.substr(1)),t.url="https://www.twitter.com/"+e,t):S(e,t))(t,a);case"instagram":return((e,t)=>D(e)?("@"===e.charAt(0)&&(e=e.substr(1)),t.url="https://www.instagram.com/"+e,t):S(e,t))(t,a);case"youtube":return((e,t)=>D(e)?(t.url="https://www.youtube.com/"+e,t):S(e,t))(t,a)}})(a,t);C[a]=r.error,P(C),((e,t)=>{if(t)I.includes(e)||A([...I,e]);else{const t=I.filter((function(t){return t!==e}));A(t)}})(a,r.error!==N.L.NONE),Y()!==N.L.NONE?M(!0):F(),z(r.url,a)};return(0,r.createElement)("div",{className:"social-form"},O&&(()=>{switch(Y()){case N.L.AD_LINK_ERROR:return(0,r.createElement)(L,{showModal:O,setShowModal:R,modalTitle:l.modals.shortUrl.modalTitle,modalText:l.modals.shortUrl.modalText});case N.L.INVALID_LINK_ERROR:return(0,r.createElement)(L,{showModal:O,setShowModal:R,modalTitle:l.modals.invalidUrl.modalTitle,modalText:l.modals.invalidUrl.modalText});default:return null}})(),(0,r.createElement)("div",{role:"button",tabIndex:0,onKeyDown:()=>o(!a),className:"social-form__top-row",onClick:()=>o(!a)},(0,r.createElement)("div",{className:"social-form__top-row_heading"},l.heading),(0,r.createElement)("div",{className:"social-form__top-row_icon "+(a?"social-form__top-row_icon_opened":"")})),(0,r.createElement)("form",{className:a?"social-form__main-active":"social-form__main-hidden"},Object.keys(K).map((e=>{return(0,r.createElement)("div",{key:K[e].id},(0,r.createElement)("label",{htmlFor:K[e].id,className:`social-form__label social-form__label-${K[e].id}`},(0,r.createElement)("div",{className:"social-form__label_icon",style:{backgroundImage:`var(--${K[e].id}-icon)`}}),(0,r.createElement)("div",{className:"social-form__label_name"},K[e].name)),(0,r.createElement)(y,{content:I.includes(K[e].id)?(t=K[e].id,"ad-link-error"===C[t]?l.errorText.adLinkErrorText:l.errorText.invalidLinkErrorText):"hide",direction:K[e].id===K.TIKTOK.id?"top":"bottom"},(0,r.createElement)("input",{className:I.includes(K[e].id)?"social-form__box-error":"social-form__box",type:"url",id:`${K[e].id}`,value:K[e].value,onChange:e=>{(e=>{const t=e.target.value,a=e.target.id;z(t,a)})(e)},onBlur:e=>Z(e)})));var t}))))},R=()=>{const e=(0,s.useRef)(null),[t,a]=(0,s.useState)(),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(),[_,v]=(0,s.useState)(""),[f,y]=(0,s.useState)(""),[N,k]=(0,s.useState)(),[S,D]=(0,s.useState)(),[T,x]=(0,s.useState)(!1),{setOnboardingSocialData:L,setCurrentOnboardingData:R}=(0,i.useDispatch)(w.M),{editEntityRecord:I}=(0,i.useDispatch)(n.store),{getEditedEntityRecord:A}=(0,i.useSelect)((e=>e(n.store)),[]),{currentData:C,getEntityRecord:P}=(0,i.useSelect)((e=>({currentData:e(w.M).getCurrentOnboardingData(),getEntityRecord:e(n.store).getEntityRecord("root","site",void 0)})),[]),M=u();return(0,s.useEffect)((()=>{T&&e.current.scrollIntoView()}),[T]),(0,s.useEffect)((()=>{var e,r;o||async function(){const e=await(0,h.mt)();D(e?.body),a(C),d(t),l(!0),L(e?.body)}(),A("root","site"),o&&(k(t?.data?.siteLogo),v(null!==(e=t?.data?.blogName)&&void 0!==e?e:""),y(null!==(r=t?.data?.blogDescription)&&void 0!==r?r:""))}),[o]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{o&&d({data:{siteLogo:N,blogName:_,blogDescription:f,socialData:S}})}),600);return()=>{clearTimeout(e)}}),[_,f,N,S]),(0,s.useEffect)((()=>{c&&(async()=>{var e,t,a;const r=C;var o,l,i;r.data.siteLogo=null!==(e=c.data.siteLogo)&&void 0!==e?e:r.data.siteLogo,r.data.blogName=null!==(t=c.data.blogName)&&void 0!==t?t:r.data.blogName,r.data.blogDescription=null!==(a=c.data.blogDescription)&&void 0!==a?a:r.data.blogDescription,o=r.data.siteLogo,l=r.data.blogName,i=r.data.blogDescription,P&&I("root","site",void 0,{site_logo:o?.id?o.id:null,description:i,title:l}),R(r)})()}),[c]),(0,r.createElement)(b.A,{type:"fade-in-disabled",after:"object"==typeof t&&"object"==typeof S},(0,r.createElement)("div",{className:"basic-info"},(0,r.createElement)("div",{className:"basic-info-form"},(0,r.createElement)("div",{className:"basic-info-form__left"},(0,r.createElement)(m,{title:M.siteTitle.title,hint:M.siteTitle.hint,placeholder:M.siteTitle.placeholder,maxCharacters:M.siteTitle.maxCharacters,height:"47px",textValue:_,textValueSetter:v}),(0,r.createElement)(m,{title:M.siteDesc.title,hint:M.siteDesc.hint,placeholder:M.siteDesc.placeholder,maxCharacters:M.siteDesc.maxCharacters,height:"100px",textValue:f,textValueSetter:y}),(0,r.createElement)("div",{ref:e},(0,r.createElement)(O,{socialData:S,setSocialData:D,isSocialFormOpen:T,setIsSocialFormOpen:x}))),(0,r.createElement)("div",{className:"basic-info-form__right"},(0,r.createElement)(E,{icon:N,iconSetter:k}),(0,r.createElement)(g,{icon:N,title:_,desc:f,isSocialFormOpen:T,setIsSocialFormOpen:x}))),(0,r.createElement)(p.A,null)))};var I=a(9491);const A=()=>{const e=(0,I.useViewportMatch)("medium"),{setIsDrawerOpened:t,setDrawerActiveView:a,setSidebarActiveView:n,setIsDrawerSuppressed:c,setIsHeaderNavigationEnabled:d}=(0,i.useDispatch)(w.M),m=u();return(0,s.useEffect)((()=>{e&&t(!0),n(_.Qe),c(!1),a(_.vO),d(!0)}),[]),(0,r.createElement)(o.A,{isVerticallyCentered:!0},(0,r.createElement)(l.A,{title:m.heading,subtitle:m.subheading}),(0,r.createElement)(R,null))}},9645:(e,t,a)=>{a.d(t,{V:()=>n});var r=a(5435),o=a(8674),l=a(1455),i=a.n(l);async function n(e){const t=await function(e){return new Promise(((t,a)=>{const r=new FileReader;r.addEventListener("loadend",(e=>t(e.target.result))),r.addEventListener("error",a),r.readAsArrayBuffer(e)}))}(e),a={"Content-Type":"image/png"};return a["Content-Disposition"]="attachment; filename="+e.name,await(0,r.h)(i()({url:(0,o.zV)("media"),method:"POST",headers:a,body:t}))}}}]);