"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[907],{9291:(e,t,a)=>{a.d(t,{L:()=>n,Y:()=>l.Z});var l=a(35),o=a(9307),r=a(682);const n=()=>(0,o.createElement)("div",{className:"image-upload-loader--loading-box"},(0,o.createElement)(r.Z,{type:"load",className:"image-upload-loader--loading-box__loader"}))},676:(e,t,a)=>{a.d(t,{Z:()=>_});var l=a(9307),o=a(5736),r=a(5609),n=a(9818),i=a(9250),s=a(7533),c=a(6831),d=a(8395),u=a(2200),m=a(7207),v=a(6342);const _=(0,l.memo)((e=>{let{callback:t=!1}=e;const a=(0,i.s0)(),_=(0,i.TH)(),{nextStep:p,currentData:b,socialData:g}=(0,n.useSelect)((e=>({nextStep:e(c.h).getNextStep(),currentData:e(c.h).getCurrentOnboardingData(),socialData:e(c.h).getOnboardingSocialData()})),[]),w=null===p||!1===p,{setOnboardingSocialData:f}=(0,n.useDispatch)(c.h);async function h(e){if(b){if(b.isComplete=(new Date).getTime(),null!=e&&e.includes("basic-info")){const e=await async function(){const e=await(0,d.Gw)(),t=await(0,d.I2)(g);return null!==(null==t?void 0:t.error)?null==e?void 0:e.body:null==t?void 0:t.body}();e&&f(e),await m.v.dispatchEvents(v.En)}(0,s.kB)(b)}const t="ecommerce"===window.nfdOnboarding.currentFlow?u.br:u.hF;window.location.replace(t)}return w?(0,l.createElement)(r.Button,{className:"skip-button",onClick:()=>h(_.pathname)},(0,o.__)("Skip this Step","wp-module-onboarding")):(0,l.createElement)(r.Button,{className:"skip-button",onClick:()=>("function"==typeof t&&t(),void a(p.path))},(0,o.__)("Skip this Step","wp-module-onboarding"))}))},4907:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(9307),o=a(5634),r=a(4316),n=a(9818),i=a(7798),s=a(5736),c=a(1392);const d=()=>({heading:(0,s.sprintf)(
/* translators: %s: website or store */
(0,s.__)("Introduce us to this %s","wp-module-onboarding"),(0,c.I)("website")),subheading:(0,s.__)("So we can introduce it to the web","wp-module-onboarding"),siteTitle:{title:(0,s.sprintf)(
/* translators: 1: site */
(0,s.__)("%s Title","wp-module-onboarding"),(0,c.I)("Site")),placeholder:(0,s.sprintf)(
/* translators: 1: site */
(0,s.__)("WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),hint:(0,s.__)("Shown to visitors, search engine and social media posts.","wp-module-onboarding"),maxCharacters:(0,s.__)("80","wp-module-onboarding")},siteDesc:{title:(0,s.sprintf)(
/* translators: 1: site */
(0,s.__)("%s Description","wp-module-onboarding"),(0,c.I)("Site")),placeholder:(0,s.sprintf)(
/* translators: 1: site */
(0,s.__)("Just another WordPress %s.","wp-module-onboarding"),(0,c.I)("Site")),hint:(0,s.sprintf)(
/* translators: 1: site */
(0,s.__)("Tell people who you are, what you sell and why they should visit your %s.","wp-module-onboarding"),(0,c.I)("site")),maxCharacters:(0,s.__)("160","wp-module-onboarding")},error:{title:(0,s.__)("Error Saving Data, Try Again!","wp-module-onboarding")}}),u=(0,l.memo)((e=>{let{title:t,hint:a,placeholder:o,height:r,maxCharacters:n,textValue:i,textValueSetter:c}=e;const d=(0,l.useRef)(null),[u,m]=(0,l.useState)("nfd-input__field");return(0,l.useEffect)((()=>{d.current.style.height=r;const e=d.current.scrollHeight;d.current.style.height=e+"px"}),[i]),(0,l.createElement)("div",{className:"nfd-input"},(0,l.createElement)("label",null,(0,l.createElement)("div",{className:"nfd-input__label"},(0,l.createElement)("p",{className:"nfd-input__label_title"},(0,s.__)(t,"wp-module-onboarding")),(0,l.createElement)("p",{className:"nfd-input__label_maxChar"},`(${n-(null==i?void 0:i.length)} characters left)`)),(0,l.createElement)("textarea",{type:"text",className:u,ref:d,style:{height:r},placeholder:o,value:i,maxLength:n,onChange:e=>(e=>{e.preventDefault(),c(e.target.value),e.target.value.length==n?m("nfd-input__field nfd-input__field_error"):m("nfd-input__field")})(e)}),(0,l.createElement)("p",{className:"nfd-input__hint"},(0,s.__)(a,"wp-module-onboarding"))))}));var m=a(676);const v=(0,l.memo)((e=>{let{title:t,desc:a,icon:o,socialData:r,isSocialFormOpen:n,setIsSocialFormOpen:i}=e;const d={defaultTitle:(0,s.sprintf)(
/* translators: %s: Site */
(0,s.__)("WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),defaultDesc:(0,s.sprintf)(
/* translators: %s: Site */
(0,s.__)("Just another WordPress %s","wp-module-onboarding"),(0,c.I)("Site")),defaultUrl:"https://bluehost.com"},u=""===t?d.defaultTitle:t,m=""===a?d.defaultDesc:a,v=""===t?d.defaultUrl:`https://${null==t?void 0:t.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}.com`,[_,p]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[w,f]=(0,l.useState)(""),[h,E]=(0,l.useState)(""),[N,S]=(0,l.useState)(""),[y,k]=(0,l.useState)(""),[D,T]=(0,l.useState)("");(0,l.useEffect)((()=>{var e,t,a,l,o;if(p(null!==(e=null==r?void 0:r.facebook_site)&&void 0!==e?e:""),g(null!==(t=null==r?void 0:r.twitter_site)&&void 0!==t?t:""),f(null!==(a=null==r?void 0:r.instagram_url)&&void 0!==a?a:""),E(null!==(l=null==r?void 0:r.youtube_url)&&void 0!==l?l:""),S(null!==(o=null==r?void 0:r.linkedin_url)&&void 0!==o?o:""),r&&Object.keys(r).includes("other_social_urls")){const e=r.other_social_urls;var n,i;Object.keys(e).includes("yelp_url")&&k(null!==(n=e.yelp_url)&&void 0!==n?n:""),Object.keys(e).includes("tiktok_url")&&T(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[r]);const I=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},O=[{url:_,image:"var(--facebook-icon)"},{url:b,image:"var(--twitter-icon)"},{url:w,image:"var(--instagram-icon)"},{url:h,image:"var(--youtube-icon)"},{url:N,image:"var(--linkedin-icon)"},{url:y,image:"var(--yelp-icon)"},{url:D,image:"var(--tiktok-icon)"}];return(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"mini-preview"},"Preview"),(0,l.createElement)("div",{className:"browser-container"},(0,l.createElement)("div",{className:"browser-row-title"},(0,l.createElement)("div",{className:"browser-row-title_main"},(0,l.createElement)("div",{className:"browser-row-title_buttons"},(0,l.createElement)("span",{className:"browser-dot",style:{background:"#ED594A"}}),(0,l.createElement)("span",{className:"browser-dot",style:{background:"#FDD800"}}),(0,l.createElement)("span",{className:"browser-dot",style:{background:"#5AC05A"}}))),(0,l.createElement)("div",{className:"browser-row-title_bar"},(0,l.createElement)("div",{className:"browser-row-title_bar_before"},(0,l.createElement)("div",{className:"browser-row-title_bar_before-curve"})),(0,l.createElement)("div",{className:"browser-row-title_bar_main"},(void 0===o||0===(null==o?void 0:o.id))&&(0,l.createElement)("div",{className:"browser-icon-title",style:{content:"var(--default-logo-icon)"}}),void 0!==o&&0!==(null==o?void 0:o.id)&&(0,l.createElement)("img",{className:"browser-icon-title",src:null==o?void 0:o.url,alt:"Thumb"}),(0,l.createElement)("div",{className:"browser-row-title_bar_main-text"},null==u?void 0:u.substring(0,20)),(0,l.createElement)("div",{className:"browser-row-title_bar_main-cross"},"x")),(0,l.createElement)("div",{className:"browser-row-title_bar_after"},(0,l.createElement)("div",{className:"browser-row-title_bar_after-curve"})))),(0,l.createElement)("div",{className:"browser-row-search"},(0,l.createElement)("div",{className:"browser-row-search__icons"},(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--back-icon)"}}),(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--forward-icon)"}}),(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--reload-icon)"}})),(0,l.createElement)("div",{className:"browser-row-search__search-box"},(0,l.createElement)("input",{className:"browser-row-search__search-box_input",type:"text",onChange:()=>{},value:v})),(0,l.createElement)("div",{className:"browser-row-search__more"},(0,l.createElement)("div",{className:"browser-icon",style:{backgroundImage:"var(--more-icon)"}}))),(0,l.createElement)("div",{className:"browser-content"},(0,l.createElement)("div",{className:"browser-content_top-row"},(0,l.createElement)("h4",{className:"browser-content_top-row-name"},u),(0,l.createElement)("span",{className:"browser-content_top-row-link"},v)),(0,l.createElement)("h5",{className:"browser-content_desc"},m),(0,l.createElement)("div",{className:"browser-content_social"},O.map(((e,t)=>(0,l.createElement)("div",{key:e.image,tabIndex:t+1,role:"button",onClick:()=>i(!n),onKeyDown:()=>i(!n),className:`browser-content_social_icon ${e.url?I(e.url)||"--invalid-url":"--no-url"}`,style:{backgroundImage:e.image}})))))))}));var _=a(682),p=a(8395),b=a(6831),g=a(9291),w=a(6329),f=a(4704),h=a(6989),E=a.n(h);const N=(0,l.memo)((e=>{let{icon:t,iconSetter:a}=e;const o=(0,l.useRef)(null),[r,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1);async function d(e){if(e){n(!0);const o=await async function(e){const t=await function(e){return new Promise(((t,a)=>{const l=new FileReader;l.addEventListener("loadend",(e=>t(e.target.result))),l.addEventListener("error",a),l.readAsArrayBuffer(e)}))}(e),a={"Content-Type":"image/png"};return a["Content-Disposition"]="attachment; filename="+e.name,await(0,w.D)(E()({url:(0,f.$L)("media"),method:"POST",headers:a,body:t}))}(e);if(o){var t,l;const e=null==o||null===(t=o.body)||void 0===t?void 0:t.id,r=null==o||null===(l=o.body)||void 0===l?void 0:l.source_url;a({id:e,url:r})}}n(!1)}return(0,l.createElement)("div",{className:"image-uploader"},(0,l.createElement)("h4",{className:"image-uploader_heading"},"Logo"),r?(0,l.createElement)("div",{className:"image-uploader_window"},(0,l.createElement)(g.L,null)):(0,l.createElement)("div",{className:`image-uploader_window ${i&&"image-uploader_window--on-drag"}`,onDrop:e=>(e=>{var t,a,l,o,r;e.preventDefault(),e.stopPropagation(),c(!1),null!=e&&null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&(null==e||null===(a=e.dataTransfer)||void 0===a?void 0:a.files.length)>0&&"image"===(null==e||null===(l=e.dataTransfer)||void 0===l||null===(o=l.files[0])||void 0===o?void 0:o.type.split("/")[0])&&d(null==e||null===(r=e.dataTransfer)||void 0===r?void 0:r.files[0])})(e),onDragOver:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!0)})(e),onDragEnter:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!0)})(e),onDragLeave:e=>(e=>{e.preventDefault(),e.stopPropagation(),c(!1)})(e)},(0,l.createElement)("div",{className:"image-uploader_window-empty"}),(0,l.createElement)("div",{className:"image-uploader_window-logo"},(void 0===t||0===(null==t?void 0:t.id))&&(0,l.createElement)("div",{className:"image-uploader_window-logo-icon-empty"}),0!==(null==t?void 0:t.id)&&void 0!==(null==t?void 0:t.id)&&(0,l.createElement)("img",{className:"image-uploader_window-logo-icon-selected",src:null==t?void 0:t.url,alt:"Thumb"})),(0,l.createElement)("div",{className:"image-uploader_window-reset"},void 0!==t&&0!==(null==t?void 0:t.id)&&(0,l.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{var e;a({id:0,url:""}),(null==o||null===(e=o.current)||void 0===e?void 0:e.files.length)>0&&(o.current.value="")}},(0,s.__)("RESET","wp-module-onboarding")),(void 0===t||0===(null==t?void 0:t.id))&&(0,l.createElement)("button",{className:"image-uploader_window-reset-btn",onClick:()=>{null==o||o.current.click()}},(0,s.__)("UPLOAD","wp-module-onboarding")),(0,l.createElement)("input",{className:"image-uploader_window-select-btn",accept:"image/*",type:"file",ref:o,onChange:e=>{var t,a,l;null!=e&&null!==(t=e.target)&&void 0!==t&&t.files&&(null==e||null===(a=e.target)||void 0===a?void 0:a.files.length)>0&&d(null==e||null===(l=e.target)||void 0===l?void 0:l.files[0])}}))))}));var S=a(2819),y=a.n(S),k=a(9196);const D=e=>{let t;const[a,o]=(0,k.useState)(!0);return"hide"==e.content?(0,l.createElement)("div",null,e.children):(0,l.createElement)("div",{className:"Tooltip-Wrapper",onMouseEnter:()=>{t=setTimeout((()=>{o(!0)}),e.delay||400)},onMouseLeave:()=>{clearInterval(t),o(!1)}},e.children,a&&(0,l.createElement)("div",{className:`Tooltip-Tip ${e.direction||"top"}`},e.content))},T=e=>{let{socialData:t,setSocialData:a,setIsValidSocials:o,isSocialFormOpen:r,setIsSocialFormOpen:n}=e;const[i,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[m,v]=(0,l.useState)(""),[_,p]=(0,l.useState)(""),[b,g]=(0,l.useState)(""),[w,f]=(0,l.useState)(""),[h,E]=(0,l.useState)(""),[N,S]=(0,l.useState)([]),k={FACEBOOK:"facebook",TWITTER:"twitter",INSTAGRAM:"instagram",YOUTUBE:"youtube",LINKEDIN:"linkedin",YELP:"yelp",TIKTOK:"tiktok"},T={FACEBOOK:i,TWITTER:d,INSTAGRAM:m,YOUTUBE:_,LINKEDIN:b,YELP:w,TIKTOK:h};var I={facebook_site:i,twitter_site:d,instagram_url:m,youtube_url:_,linkedin_url:b,other_social_urls:{yelp_url:w,tiktok_url:h}};(0,l.useEffect)((()=>{var e,a,l,o,r;if(c(null!==(e=null==t?void 0:t.facebook_site)&&void 0!==e?e:""),u(null!==(a=null==t?void 0:t.twitter_site)&&void 0!==a?a:""),v(null!==(l=null==t?void 0:t.instagram_url)&&void 0!==l?l:""),p(null!==(o=null==t?void 0:t.youtube_url)&&void 0!==o?o:""),g(null!==(r=null==t?void 0:t.linkedin_url)&&void 0!==r?r:""),t&&Object.keys(t).includes("other_social_urls")){var n,i;const e=t.other_social_urls;Object.keys(e).includes("yelp_url")&&f(null!==(n=e.yelp_url)&&void 0!==n?n:""),Object.keys(e).includes("tiktok_url")&&E(null!==(i=e.tiktok_url)&&void 0!==i?i:"")}}),[t]);const O=y().debounce((function(e,t){let a=!1;if(e===k.TWITTER?(t=t.substring(t.indexOf("@")+1),(t.match("^[A-Za-z0-9_]{1,25}$")||t.match("^http(?:s)?://(?:www.)?twitter.com/([A-Za-z0-9_]{1,25})/?$"))&&(a=!0)):(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(t)&&(a=!0),a){var l=N.filter((function(t){return t!==e}));S(l)}else N.includes(e)||S([...N,e]);((e,t,a)=>{if(!e){var l=a.filter((function(e){return e!==t}));S(l)}0==a.length?o(!0):o(!1)})(t,e,N)}),1e3),C=e=>{const t=e.target.value;switch(e.target.id){case k.FACEBOOK:O(k.FACEBOOK,t),c(t),I.facebook_site=t;break;case k.TWITTER:O(k.TWITTER,t),u(t),I.twitter_site=t;break;case k.INSTAGRAM:O(k.INSTAGRAM,t),v(t),I.instagram_url=t;break;case k.YOUTUBE:O(k.YOUTUBE,t),p(t),I.youtube_url=t;break;case k.LINKEDIN:O(k.LINKEDIN,t),g(t),I.linkedin_url=t;break;case k.YELP:O(k.YELP,t),f(t),I.other_social_urls.yelp_url=t;break;case k.TIKTOK:O(k.TIKTOK,t),E(t),I.other_social_urls.tiktok_url=t}a(I)};return(0,l.createElement)("div",{className:"social-form"},(0,l.createElement)("div",{className:"social-form__top-row",onClick:e=>{n(!r)}},(0,l.createElement)("div",{className:"social-form__top-row_heading"},(0,s.__)("Social Media","wp-module-onboarding")),(0,l.createElement)("div",{className:"social-form__top-row_icon "+(r?"social-form__top-row_icon_opened":"")})),(0,l.createElement)("form",{className:r?"social-form__main-active":"social-form__main-hidden",onSubmit:e=>{handleSubmit(e)}},function(){var e,t=[];for(var a in k)t.push((0,l.createElement)("div",{key:k[a]},(0,l.createElement)("label",{className:`social-form__label social-form__label-${k[a]}`},(0,l.createElement)("div",{className:"social-form__label_icon",style:{backgroundImage:`var(--${k[a]}-icon)`}}),(0,l.createElement)("div",{className:"social-form__label_name"},(0,s.__)(k[a].replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),"wp-module-onboarding"))),(0,l.createElement)(D,{content:N.includes(k[a])?(e=k[a],e===k.TWITTER?`Please enter a valid ${e} URL / username`:`Please enter a valid ${e} URL`):"hide",direction:"top"},(0,l.createElement)("input",{className:N.includes(k[a])?"social-form__box-error":"social-form__box",type:"url",id:`${k[a]}`,value:T[a],onChange:e=>{C(e)}}))));return t}()))},I=()=>{const e=(0,l.useRef)(null),[t,a]=(0,l.useState)(),[o,r]=(0,l.useState)(!1),[s,c]=(0,l.useState)(),[g,w]=(0,l.useState)(""),[f,h]=(0,l.useState)(""),[E,S]=(0,l.useState)(),[y,k]=(0,l.useState)(),[D,I]=(0,l.useState)(!1),[O,C]=(0,l.useState)(!1),{setOnboardingSocialData:x,setCurrentOnboardingData:L}=(0,n.useDispatch)(b.h),{editEntityRecord:A}=(0,n.useDispatch)(i.store),{getEditedEntityRecord:R}=(0,n.useSelect)((e=>e(i.store)),[]),{currentData:P}=(0,n.useSelect)((e=>({currentData:e(b.h).getCurrentOnboardingData()})),[]),K=d();return(0,l.useEffect)((()=>{O&&e.current.scrollIntoView()}),[O]),(0,l.useEffect)((()=>{var e,l,n,i,s;o||async function(){const e=await(0,p.Gw)();k(null==e?void 0:e.body),a(P),c(t),r(!0),x(null==e?void 0:e.body)}(),R("root","site"),o&&(S(null==t||null===(e=t.data)||void 0===e?void 0:e.siteLogo),w(null!==(l=null==t||null===(n=t.data)||void 0===n?void 0:n.blogName)&&void 0!==l?l:""),h(null!==(i=null==t||null===(s=t.data)||void 0===s?void 0:s.blogDescription)&&void 0!==i?i:""))}),[o]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{o&&c({data:{siteLogo:E,blogName:g,blogDescription:f,socialData:y}})}),600);return()=>{clearTimeout(e)}}),[g,f,E,y,D]),(0,l.useEffect)((()=>{s&&(async()=>{var e,t,a,l;const o=P;var r,n,i;o.data.siteLogo=null!==(e=s.data.siteLogo)&&void 0!==e?e:o.data.siteLogo,o.data.blogName=null!==(t=s.data.blogName)&&void 0!==t?t:o.data.blogName,o.data.blogDescription=null!==(a=s.data.blogDescription)&&void 0!==a?a:o.data.blogDescription,r=o.data.siteLogo,n=o.data.blogName,i=o.data.blogDescription,A("root","site",void 0,{site_logo:null!=r&&r.id?r.id:null,description:i,title:n}),L(o),x(null!==(l=s.data.socialData)&&void 0!==l?l:y)})()}),[s]),(0,l.createElement)(_.Z,{type:"fade-in-disabled",after:"object"==typeof t&&"object"==typeof y},(0,l.createElement)("div",{className:"basic-info"},(0,l.createElement)("div",{className:"basic-info-form"},(0,l.createElement)("div",{className:"basic-info-form__left"},(0,l.createElement)(u,{title:K.siteTitle.title,hint:K.siteTitle.hint,placeholder:K.siteTitle.placeholder,maxCharacters:K.siteTitle.maxCharacters,height:"47px",textValue:g,textValueSetter:w}),(0,l.createElement)(u,{title:K.siteDesc.title,hint:K.siteDesc.hint,placeholder:K.siteDesc.placeholder,maxCharacters:K.siteDesc.maxCharacters,height:"100px",textValue:f,textValueSetter:h}),(0,l.createElement)("div",{ref:e},(0,l.createElement)(T,{socialData:y,setSocialData:k,isSocialFormOpen:O,setIsValidSocials:I,setIsSocialFormOpen:C}))),(0,l.createElement)("div",{className:"basic-info-form__right"},(0,l.createElement)(N,{icon:E,iconSetter:S}),(0,l.createElement)(v,{icon:E,title:g,desc:f,socialData:y,isSocialFormOpen:O,setIsSocialFormOpen:C}))),(0,l.createElement)(m.Z,null)))};var O=a(2200),C=a(4333);const x=()=>{const e=(0,C.useViewportMatch)("medium"),{setIsDrawerOpened:t,setDrawerActiveView:a,setSidebarActiveView:i,setIsDrawerSuppressed:s,setIsHeaderNavigationEnabled:c}=(0,n.useDispatch)(b.h),u=d();return(0,l.useEffect)((()=>{e&&t(!0),i(O.Jq),s(!1),a(O.tM),c(!0)}),[]),(0,l.createElement)(o.Z,{isVerticallyCentered:!0},(0,l.createElement)(r.Z,{title:u.heading,subtitle:u.subheading}),(0,l.createElement)(I,null))}}}]);